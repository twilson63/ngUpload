angular.module("ngUpload",[]).directive("uploadSubmit",["$parse",function(){return{restrict:"AC",link:function(n,t,i){var e={},f,r,o,u,s;if(e.enableControls=i.uploadOptionsEnableControls,f=["ng-upload","ng_upload","x-ng-upload","data-ng-upload"],r=null,angular.forEach(f,function(n){if(!r){var i=t.closest("form["+n+"]");i.length>0&&(r=i.first())}}),r==null&&angular.forEach(f,function(n){if(!r){var i=t.closest("form."+n);i.length>0&&(r=i.first())}}),r==null)throw"[uploadSubmit] Directive can only be used inside a form.";if(!i.uploadSubmit&&r.attr("ng-upload")&&(i.uploadSubmit=r.attr("ng-upload")),!i.uploadSubmit)throw"[uploadSubmit] A valid callback function must be supplied.";if(o=i.uploadSubmit.split("(")[0],u=n.$eval(o),!angular.isFunction(u)){s="[uploadSubmit] Expression does not point to a valid function.";throw s+"\n";}t.bind("click",function(){var i,f;r.attr("target",(new Date).getTime()),i=angular.element("<iframe id='"+r.attr("target")+"' name='"+r.attr("target")+"' border='0' width='0' height='0' style='width: 0px; height: 0px; border: none; display: none' />"),i.bind("load",function(){var r=i.contents().find("body").text();n.$apply(function(){u(r,!0)}),r!==""&&(setTimeout(function(){i.remove()},250),t.attr("disabled",null),t.attr("title","Click to start upload."))}),r.parent().append(i),n.$apply(function(){u("Please wait...",!1)}),f=!0,e.enableControls||(t.attr("disabled","disabled"),f=!1),t.attr("title",(f?"[ENABLED]: ":"[DISABLED]: ")+"Uploading, please wait..."),r.submit()}).attr("title","Click to start upload.")}}}]).directive("ngUpload",["$parse",function(){return{restrict:"AC",link:function(n,t){t.attr("method","post"),t.attr("enctype","multipart/form-data"),t.attr("encoding","multipart/form-data")}}}]);
//@ sourceMappingURL=ng-upload.min.js.map